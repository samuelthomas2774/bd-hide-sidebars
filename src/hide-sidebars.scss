// Channel list
div[class*="channels-"] {
    transition: transform 0.2s ease, opacity 0.2s ease;

    transform: translateX(-3px) perspective(20em) rotateY(2deg) scale(0.95);
    opacity: 0.5;

    // Main panel
    + div {
        transition: margin-left 0.2s ease;
        z-index: 1;

        margin-left: -210px;

        // Main panel header and contents
        &:not(.chat) > *:not([class*="scrollerWrap-"]),
        &:not(.chat) > [class*="scrollerWrap-"] > div[class*="scroller-"],
        &.chat > [class*="titleWrapper-"] > div,
        &.chat > .content .messages.scroller,
        &.chat > .content > .flex-spacer > form,
        &.chat > .content > .flex-spacer > form > div[class*="typing-"] {
            transition: padding-left 0.2s ease, padding-right 0.2s ease, margin-left 0.2s ease;
            padding-left: 100px;
            padding-right: 100px;
        }

        &.chat > .content > .flex-spacer > form > div[class*="typing-"] {
            box-sizing: border-box;
        }

        // Main panel contents shadow - this is shown when the channel list is showing and some of the main panel contents is hidden
        &:not(.chat) > *[class*="scrollerWrap-"]::after,
        &.chat > .content::after {
            content: "";
            position: relative;
            float: right;
            width: 5px;
            height: 100%;
            margin-right: 0px;
            margin-left: -5px;
            z-index: 2;
            background-image: linear-gradient(to left, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.06));
            .theme-light & {
                background-image: linear-gradient(to left, #e3e5e8, hsla(200, 9%, 93%, 0.25));
            }
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        // Move the shadow over a bit for the members list
        &.chat > .content::after {
            margin-left: -35px;
            margin-right: 30px;
        }
    }

    // Channel list when hovered over
    &:hover {
        transform: translateX(0px) perspective(0em) rotateY(0deg) scale(1);
        opacity: 1;

        // Main panel when the channel list is being hovered over
        + div {
            margin-left: 0px;

            // Main panel header
            &:not(.chat) > *:not([class*="scrollerWrap-"]),
            &:not(.chat) > [class*="scrollerWrap-"] > div[class*="scroller-"],
            &.chat > [class*="titleWrapper-"] > div {
                padding-left: 20px;
            }

            // Main panel contents
            &:not(.chat) > *:nth-child(2):not([class*="scrollerWrap-"]),
            &:not(.chat) > *:nth-child(2)[class*="scrollerWrap-"] > div[class*="scroller-"],
            &.chat > .content .messages.scroller,
            &.chat > .content > .flex-spacer > form,
            &.chat > .content > .flex-spacer > form > div[class*="typing-"] {
                margin-right: -70px;
                padding-left: 20px;
                padding-right: 20px;
            }

            // Main panel contents shadow
            &:not(.chat) > *[class*="scrollerWrap-"]::after,
            &.chat > .content::after {
                opacity: 1;
            }
        }
    }
}

// Hide the toggle members list button, but only if the members list is visible
svg[class*="iconActive-"][name="People"] {
    display: none;
}
svg[class*="iconDefault-"][name="People"] {

}

// Chat contents (messages and text area) when the members list is not being hovered over
.chat .content > .flex-spacer:not(:only-child) {
    transition: margin-right 0.2s ease, border-right 0.2s ease;
    z-index: 1;

    margin-right: -210px;

    background-color: #36393e;
    .theme-light & {
        background-color: #ffffff;
    }

    // Chat contents shadow
    &::before {
        content: "";
        position: fixed;
        float: left;
        width: 5px;
        height: 100%;
        margin-left: 0px;
        z-index: 2;
        background-image: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.06));
        .theme-light & {
            background-image: linear-gradient(to right, #e3e5e8, hsla(200, 9%, 93%, 0.25));
        }
        opacity: 0;
        transition: opacity 0.2s ease;
    }
}

// Chat contents when the members list is being hovered over
.chat .content:hover > .flex-spacer:not(:only-child):not(:hover) {
    margin-right: 0px;

    .messages.scroller,
    > form,
    > form > div[class*="typing-"] {
        padding-left: 20px;
        padding-right: 20px;
        margin-left: -70px;
    }

    // Chat contents shadow
    &::before {
        opacity: 1;
    }
}

// Members list
div[class*="membersWrap-"] {
    transition: transform 0.2s ease, opacity 0.2s ease;
    z-index: 0;

    transform: translateX(3px) perspective(20em) rotateY(-2deg) scale(0.95);
    opacity: 0.5;

    // ... when it is being hovered over
    .chat .content:hover > .flex-spacer:not(:only-child):not(:hover) + & {
        transform: translateX(0px) perspective(0em) rotateY(0deg) scale(1);
        opacity: 1;
    }
}
